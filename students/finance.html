<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="See fees, scholarships, and pay instantly with Mobile Money, card, or bank transfer." />
  <meta name="theme-color" content="#373896" />
  <title>Flow — Finance</title>

  <link rel="icon" href="/assets/img/logo.PNG" type="image/png" />
  <link rel="apple-touch-icon" href="/assets/img/logo.PNG" />

  <!-- Styles -->
  <link rel="stylesheet" href="/assets/css/base.css" />
  <link rel="stylesheet" href="/assets/css/students.css" />
  
  <!-- Circular Logo Styles -->
  <style>
    .brand__logo,
    .footer__logo {
      border-radius: 50%;
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      animation: logoPulse 3s ease-in-out infinite;
    }

    .brand__logo:hover,
    .footer__logo:hover {
      transform: scale(1.05) rotate(5deg);
      box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
      animation-duration: 1.5s;
    }

    @keyframes logoPulse {
      0%, 100% { 
        box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        filter: brightness(1);
      }
      50% { 
        box-shadow: 0 8px 30px rgba(139, 92, 246, 0.4);
        filter: brightness(1.1);
      }
    }
    
    /* White font overrides */
    #financeTitle {
      color: #ffffff !important;
    }
    
    .footer__nav a,
    .footer__links a {
      color: #ffffff !important;
    }
    
    .footer__copyright {
      color: #ffffff !important;
    }
    
    .footer__copyright #year,
    .footer__copyright span {
      color: #ffffff !important;
    }
    
    /* Advanced SVG styles */
    .advanced-svg-link {
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
      transition: all 0.3s ease !important;
      padding: 8px !important;
      border-radius: 6px !important;
    }
    
    .advanced-svg-link:hover {
      background: rgba(255, 255, 255, 0.1) !important;
      transform: translateX(4px) !important;
    }
    
    .svg-icon {
      width: 20px !important;
      height: 20px !important;
      flex-shrink: 0 !important;
    }
  </style>
</head>

<body data-user-id="u-student-001">
  <!-- Futuristic background -->
  <div class="bg-animation" aria-hidden="true">
    <canvas id="particleCanvas"></canvas>
  </div>

  <a href="#main" class="skip-link">Skip to content</a>
  <div id="toast-container" class="toast-container" aria-live="polite"></div>

  <!-- Site header -->
  <header class="header" role="banner" aria-label="Site header">
    <div class="container header__inner">
      <a class="brand" href="/" aria-label="Flow home">
        <img src="/assets/img/logo.PNG" class="brand__logo" alt="Flow logo" width="40" height="40" />
        <span class="brand__name">Flow</span>
      </a>

      <div class="connection-status" id="connectionStatus" aria-live="polite">
        <span class="connection-status__indicator"></span>
        <span class="connection-status__text">Online</span>
      </div>

      <form class="lang-switch" aria-label="Language selector">
        <label for="lang" class="sr-only">Language</label>
        <select id="lang" name="lang" aria-describedby="lang-help">
          <option value="en" selected>English</option>
          <option value="fr">Français</option>
          <option value="ar" dir="rtl">العربية</option>
          <option value="sw">Kiswahili</option>
          <option value="ha">Hausa</option>
          <option value="yo">Yoruba</option>
          <option value="ig">Igbo</option>
          <option value="zu">Zulu</option>
          <option value="am">Amharic</option>
        </select>
        <div id="lang-help" class="sr-only">Changing language will reload the page</div>
      </form>

      <nav class="nav" role="navigation" aria-label="Main navigation">
        <button class="nav__toggle" aria-expanded="false" aria-controls="navMenu">
          <span class="nav__toggle-icon"><span></span><span></span><span></span></span>
          <span class="nav__toggle-text">Menu</span>
        </button>
        <ul id="navMenu" class="nav__list" data-open="false">
          <li><a href="/" >Home</a></li>
          <li><a class="nav__link--active" href="/students/">Students</a></li>
          <li><a href="/institutions/">Institutions</a></li>
          <li><a href="/counselors/">Counselors</a></li>
          <li><a href="/parents/">Parents</a></li>
          <li><a href="/recommenders/">Recommenders</a></li>
          <li><a class="btn btn--ghost" href="/students/onboarding.html">Get Started</a></li>
          <li><a class="btn btn--primary" href="/auth/">Sign In</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Subnav -->
  <nav class="subnav" role="navigation" aria-label="Student sections">
    <div class="container">
      <div class="subnav__inner">
        <a href="/students/onboarding.html" class="badge badge--primary">
          <svg width="16" height="16" fill="currentColor" aria-hidden="true">
            <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2z"/>
          </svg>
          <span>Start Onboarding</span>
        </a>
        <a href="/students/" class="subnav__link">Dashboard</a>
        <a href="/students/profile.html" class="subnav__link">Profile</a>
        <a href="/students/programs.html" class="subnav__link">Programs</a>
        <a href="/students/applications.html" class="subnav__link">Applications</a>
        <a href="/students/messages.html" class="subnav__link">Messages</a>
        <a href="/students/finance.html" class="subnav__link subnav__link--active">Finance</a>
        <a href="/students/help.html" class="subnav__link">Help</a>
      </div>
    </div>
  </nav>

  <main id="main">
    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
      <div class="container">
        <ol class="breadcrumb__list">
          <li class="breadcrumb__item"><a href="/" class="breadcrumb__link">Home</a></li>
          <li class="breadcrumb__separator" aria-hidden="true">/</li>
          <li class="breadcrumb__item"><a href="/students/" class="breadcrumb__link">Student Portal</a></li>
          <li class="breadcrumb__separator" aria-hidden="true">/</li>
          <li class="breadcrumb__item"><span class="breadcrumb__current">Finance</span></li>
        </ol>
      </div>
    </nav>

    <section class="section" aria-labelledby="financeTitle">
      <div class="container">
        <header class="section__header">
          <h1 id="financeTitle">Financial Overview</h1>
          <p class="section__description">Track fees, scholarships, and payments — and pay securely.</p>
        </header>

        <!-- Summary stats -->
        <div class="dashboard-stats">
          <div class="stat-card">
            <div class="stat-card__icon stat-card__icon--warning" aria-hidden="true">
              <svg width="20" height="20" fill="currentColor"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM7 3v6h2V3H7zm0 8v2h2v-2H7z"/></svg>
            </div>
            <div class="stat-card__content">
              <div class="stat-card__number" data-amount-usd="0" id="feesDue">$0</div>
              <div class="stat-card__label">Fees Due</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-card__icon stat-card__icon--success" aria-hidden="true">
              <svg width="20" height="20" fill="currentColor"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0z"/></svg>
            </div>
            <div class="stat-card__content">
              <div class="stat-card__number" data-amount-usd="1500" id="scholarPotential">$1,500</div>
              <div class="stat-card__label">Scholarship Potential</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-card__icon stat-card__icon--primary" aria-hidden="true">
              <svg width="20" height="20" fill="currentColor"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/></svg>
            </div>
            <div class="stat-card__content">
              <div class="stat-card__number" data-amount-usd="4200" id="tuitionEst">$4,200</div>
              <div class="stat-card__label">Estimated Tuition</div>
            </div>
          </div>
        </div>

        <!-- Payment options -->
        <div class="dashboard-grid">
          <article class="dashboard-card dashboard-card--featured" aria-labelledby="payTitle">
            <header class="dashboard-card__header">
              <h2 id="payTitle">Make a Payment</h2>
              <span class="badge">Secure</span>
            </header>
            <div class="payment-options">
              <!-- Payment rows will be populated dynamically via dashboard-loader.js -->
              <div id="paymentsListContainer" class="empty-state" style="text-align: center; padding: 3rem 1rem; display: none;">
                <svg class="empty-state__icon" width="48" height="48" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin: 0 auto 1rem;">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
                </svg>
                <h3 class="empty-state__title" style="margin-bottom: 0.5rem;">No Pending Payments</h3>
                <p class="empty-state__description" style="color: #6b7280;">Application fees and other payments will appear here.</p>
              </div>

              <!-- Additional payment rows will be populated dynamically -->
                <button class="btn btn--ghost pay-now" data-desc="Tuition Deposit — École Polytechnique Dakar" data-usd="500">Pay Now</button>
              </div>

              <div class="payment-methods">
                <h3 class="payment-methods__title">Available Methods</h3>
                <ul class="payment-methods__list">
                  <li>Mobile Money (M-Pesa, MTN MoMo, Airtel Money)</li>
                  <li>Card (Visa/Mastercard)</li>
                  <li>Bank Transfer</li>
                </ul>
              </div>
            </div>
          </article>

          <!-- Transactions -->
          <article class="dashboard-card" aria-labelledby="txTitle">
            <header class="dashboard-card__header">
              <h2 id="txTitle">Transactions</h2>
              <button id="exportTx" class="dashboard-card__action">Export CSV</button>
            </header>
            <div class="transactions">
              <table class="table" id="txTable" aria-describedby="txTitle">
                <thead>
                  <tr>
                    <th scope="col">Date</th>
                    <th scope="col">Description</th>
                    <th scope="col" class="ta-right">Amount</th>
                    <th scope="col">Method</th>
                    <th scope="col">Status</th>
                  </tr>
                </thead>
                <tbody id="txTbody">
                  <!-- filled by JS -->
                </tbody>
              </table>
              <div class="muted" id="txEmpty" hidden>No transactions yet.</div>
            </div>
          </article>

          <!-- Mobile Money CTA -->
          <article class="dashboard-card dashboard-card--highlight" aria-labelledby="mmTitle">
            <header class="dashboard-card__header">
              <h2 id="mmTitle">Mobile Money Ready</h2>
              <span class="recommendation-badge">New</span>
            </header>
            <div class="mobile-money-cta">
              <div class="mobile-money-cta__content">
                <p>Pay instantly with M-Pesa, MTN MoMo, or Airtel Money. Works offline with delayed sync.</p>
                <button class="btn btn--primary" id="openPaySheet">Try Mobile Money</button>
              </div>
              <div class="mobile-money-logos" aria-hidden="true">
                <span class="mobile-money-logo">M-Pesa</span>
                <span class="mobile-money-logo">MoMo</span>
                <span class="mobile-money-logo">Airtel</span>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer" role="contentinfo" aria-label="Site footer">
    <div class="container footer__grid">
      <section class="footer__brand">
        <img src="/assets/img/logo.PNG" alt="" class="footer__logo" width="40" height="40" />
        <h3 class="footer__title">Flow</h3>
        <p class="footer__tagline">Connecting learners and institutions across Africa with technology designed for real-world connectivity challenges.</p>
      </section>
      <nav aria-label="Quick links" class="footer__nav">
        <h3 class="footer__nav-title">Student Resources</h3>
        <ul>
          <li><a href="/students/onboarding.html" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="getStartedGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#10b981"/>
                  <stop offset="50%" style="stop-color:#34d399"/>
                  <stop offset="100%" style="stop-color:#6ee7b7"/>
                </linearGradient>
              </defs>
              <circle cx="12" cy="12" r="10" fill="url(#getStartedGradientFinance)" opacity="0.8">
                <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 12 12" to="360 12 12" dur="10s" repeatCount="indefinite"/>
              </circle>
              <path d="M8 12l2 2 4-4" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="18" cy="6" r="2" fill="#f59e0b" opacity="0.8">
                <animate attributeName="r" values="1.5;2.5;1.5" dur="2s" repeatCount="indefinite"/>
              </circle>
            </svg>
            <span>Get Started</span>
          </a></li>
          <li><a href="/students/programs.html" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="programsGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#4338ca"/>
                  <stop offset="50%" style="stop-color:#6366f1"/>
                  <stop offset="100%" style="stop-color:#8b5cf6"/>
                </linearGradient>
              </defs>
              <rect x="3" y="4" width="18" height="14" rx="2" fill="url(#programsGradientFinance)" opacity="0.8">
                <animate attributeName="opacity" values="0.6;0.9;0.6" dur="3s" repeatCount="indefinite"/>
              </rect>
              <rect x="5" y="7" width="4" height="1" fill="white" opacity="0.7">
                <animate attributeName="width" values="4;6;4" dur="2s" repeatCount="indefinite"/>
              </rect>
              <rect x="5" y="9" width="6" height="1" fill="white" opacity="0.6">
                <animate attributeName="width" values="6;8;6" dur="2.5s" repeatCount="indefinite"/>
              </rect>
              <rect x="5" y="11" width="5" height="1" fill="white" opacity="0.7">
                <animate attributeName="width" values="5;7;5" dur="1.8s" repeatCount="indefinite"/>
              </rect>
            </svg>
            <span>Browse Programs</span>
          </a></li>
          <li><a href="/students/applications.html" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="applicationsGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#ef4444"/>
                  <stop offset="50%" style="stop-color:#f97316"/>
                  <stop offset="100%" style="stop-color:#eab308"/>
                </linearGradient>
              </defs>
              <rect x="4" y="2" width="16" height="20" rx="2" fill="url(#applicationsGradientFinance)" opacity="0.8"/>
              <rect x="6" y="5" width="12" height="1" fill="white" opacity="0.8">
                <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
              </rect>
              <rect x="6" y="7" width="10" height="1" fill="white" opacity="0.7">
                <animate attributeName="opacity" values="0.5;0.9;0.5" dur="2.2s" repeatCount="indefinite"/>
              </rect>
              <rect x="6" y="9" width="8" height="1" fill="white" opacity="0.6">
                <animate attributeName="opacity" values="0.4;0.8;0.4" dur="1.9s" repeatCount="indefinite"/>
              </rect>
              <circle cx="16" cy="16" r="3" fill="#10b981" opacity="0.9">
                <animate attributeName="r" values="2.5;3.5;2.5" dur="1.5s" repeatCount="indefinite"/>
              </circle>
              <path d="M14.5 16l1 1 2-2" stroke="white" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>My Applications</span>
          </a></li>
          <li><a href="/students/finance.html" aria-current="page" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="financeGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#059669"/>
                  <stop offset="50%" style="stop-color:#10b981"/>
                  <stop offset="100%" style="stop-color:#34d399"/>
                </linearGradient>
              </defs>
              <circle cx="12" cy="12" r="10" fill="url(#financeGradientFinance)" opacity="0.8">
                <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 12 12" to="360 12 12" dur="8s" repeatCount="indefinite"/>
              </circle>
              <path d="M12 6v12M9 9h6" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <animate attributeName="stroke-width" values="2;3;2" dur="2s" repeatCount="indefinite"/>
              </path>
              <circle cx="18" cy="6" r="2" fill="#fbbf24" opacity="0.9">
                <animate attributeName="cy" values="6;8;6" dur="2s" repeatCount="indefinite"/>
              </circle>
            </svg>
            <span>Financial Planning</span>
          </a></li>
          <li><a href="/students/help.html" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="helpGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#8b5cf6"/>
                  <stop offset="50%" style="stop-color:#a855f7"/>
                  <stop offset="100%" style="stop-color:#c084fc"/>
                </linearGradient>
              </defs>
              <circle cx="12" cy="12" r="10" fill="url(#helpGradientFinance)" opacity="0.8">
                <animate attributeName="r" values="9;10.5;9" dur="3s" repeatCount="indefinite"/>
              </circle>
              <path d="M9.09 8.5a3 3 0 1 1 5.83 1c0 2-3 3-3 3" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <animate attributeName="opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite"/>
              </path>
              <circle cx="12" cy="17" r="1" fill="white">
                <animate attributeName="r" values="0.8;1.2;0.8" dur="1.5s" repeatCount="indefinite"/>
              </circle>
            </svg>
            <span>Help Center</span>
          </a></li>
        </ul>
      </nav>
      <nav aria-label="Support navigation" class="footer__nav">
        <h3 class="footer__nav-title">Support</h3>
        <ul>
          <li><a href="/help/" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="helpCenterGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#8b5cf6"/>
                  <stop offset="50%" style="stop-color:#a855f7"/>
                  <stop offset="100%" style="stop-color:#c084fc"/>
                </linearGradient>
              </defs>
              <circle cx="12" cy="12" r="10" fill="url(#helpCenterGradientFinance)" opacity="0.8">
                <animate attributeName="r" values="9;10.5;9" dur="3s" repeatCount="indefinite"/>
              </circle>
              <path d="M9.09 8.5a3 3 0 1 1 5.83 1c0 2-3 3-3 3" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <animate attributeName="opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite"/>
              </path>
              <circle cx="12" cy="17" r="1" fill="white">
                <animate attributeName="r" values="0.8;1.2;0.8" dur="1.5s" repeatCount="indefinite"/>
              </circle>
            </svg>
            <span>Help Center</span>
          </a></li>
          <li><a href="/contact/" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="contactGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#06b6d4"/>
                  <stop offset="50%" style="stop-color:#0891b2"/>
                  <stop offset="100%" style="stop-color:#0e7490"/>
                </linearGradient>
              </defs>
              <circle cx="12" cy="12" r="10" fill="url(#contactGradientFinance)" opacity="0.8">
                <animate attributeName="opacity" values="0.6;0.9;0.6" dur="3s" repeatCount="indefinite"/>
              </circle>
              <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <animate attributeName="stroke-width" values="1.5;2.5;1.5" dur="2s" repeatCount="indefinite"/>
              </path>
            </svg>
            <span>Contact Us</span>
          </a></li>
          <li><a href="/status/" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="statusGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#10b981"/>
                  <stop offset="50%" style="stop-color:#059669"/>
                  <stop offset="100%" style="stop-color:#047857"/>
                </linearGradient>
              </defs>
              <rect x="2" y="3" width="20" height="14" rx="2" fill="url(#statusGradientFinance)" opacity="0.8">
                <animate attributeName="opacity" values="0.6;0.9;0.6" dur="2.5s" repeatCount="indefinite"/>
              </rect>
              <circle cx="6" cy="10" r="1" fill="#10b981">
                <animate attributeName="fill" values="#10b981;#34d399;#10b981" dur="1s" repeatCount="indefinite"/>
              </circle>
              <circle cx="12" cy="10" r="1" fill="#10b981">
                <animate attributeName="fill" values="#10b981;#34d399;#10b981" dur="1s" begin="0.3s" repeatCount="indefinite"/>
              </circle>
              <circle cx="18" cy="10" r="1" fill="#10b981">
                <animate attributeName="fill" values="#10b981;#34d399;#10b981" dur="1s" begin="0.6s" repeatCount="indefinite"/>
              </circle>
            </svg>
            <span>System Status</span>
          </a></li>
          <li><a href="/accessibility/" class="advanced-svg-link">
            <svg class="svg-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="accessibilityGradientFinance" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#f59e0b"/>
                  <stop offset="50%" style="stop-color:#d97706"/>
                  <stop offset="100%" style="stop-color:#b45309"/>
                </linearGradient>
              </defs>
              <circle cx="12" cy="12" r="10" fill="url(#accessibilityGradientFinance)" opacity="0.8">
                <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 12 12" to="360 12 12" dur="12s" repeatCount="indefinite"/>
              </circle>
              <circle cx="12" cy="8" r="2" fill="white">
                <animate attributeName="r" values="1.8;2.2;1.8" dur="2s" repeatCount="indefinite"/>
              </circle>
              <path d="M8 14h8M10 18h4" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <animate attributeName="stroke-width" values="1.5;2.5;1.5" dur="2.5s" repeatCount="indefinite"/>
              </path>
            </svg>
            <span>Accessibility</span>
          </a></li>
        </ul>
      </nav>
      <section class="footer__cta">
        <h3 class="footer__cta-title">Need help?</h3>
        <p class="footer__cta-description">Our support team is here to help you succeed.</p>
        <a href="/contact/" class="btn btn--primary">Get Support</a>
      </section>
    </div>
    <div class="footer__meta">
      <div class="container footer__meta-inner">
        <small class="footer__copyright">© <span id="year"></span> Flow. <span>Built with ❤️ for Africa.</span></small>
        <div class="footer__links">
          <a href="/legal/terms.html">Terms</a>
          <a href="/legal/privacy.html">Privacy</a>
          <a href="/legal/cookies.html">Cookies</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Advanced Settings Button (matching dashboard design) -->
  <button id="settingsToggle" class="settings-fab" type="button" aria-label="Open settings">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
      <defs>
        <linearGradient id="settingsGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#4338ca"/>
          <stop offset="50%" style="stop-color:#6366f1"/>
          <stop offset="100%" style="stop-color:#8b5cf6"/>
        </linearGradient>
        <filter id="glow">
          <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
          <feMerge>
            <feMergeNode in="coloredBlur"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>
      <g transform-origin="12 12">
        <path d="M12 1l2.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 1z" fill="url(#settingsGradient1)" opacity="0.2"/>
        <circle cx="12" cy="12" r="10" stroke="url(#settingsGradient1)" stroke-width="1.5" fill="none" opacity="0.6">
          <animate attributeName="stroke-dasharray" values="0 63;31 31;0 63" dur="3s" repeatCount="indefinite"/>
        </circle>
        <g stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
          <path d="m19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
        </g>
        <animateTransform attributeName="transform" type="rotate" values="0;360" dur="20s" repeatCount="indefinite"/>
      </g>
    </svg>
  </button>

  <!-- Advanced Settings Modal -->
  <div id="settingsModal" class="settings-modal" aria-hidden="true" aria-labelledby="settingsModalTitle">
    <div class="settings-modal__backdrop"></div>
    <div class="settings-modal__container">
      <div class="settings-modal__header">
        <div class="settings-modal__title-group">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <defs>
              <linearGradient id="modalHeaderGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#4338ca"/>
                <stop offset="100%" style="stop-color:#8b5cf6"/>
              </linearGradient>
            </defs>
            <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill="url(#modalHeaderGradient)"/>
            <path d="m19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" stroke="url(#modalHeaderGradient)" stroke-width="1" fill="none"/>
          </svg>
          <h2 id="settingsModalTitle">Advanced Settings</h2>
        </div>
        <button id="settingsClose" class="settings-modal__close" type="button" aria-label="Close settings">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>

      <div class="settings-modal__body">
        <div class="settings-tabs">
          <button class="settings-tab settings-tab--active" data-tab="appearance" type="button">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="5"/>
              <line x1="12" y1="1" x2="12" y2="3"/>
              <line x1="12" y1="21" x2="12" y2="23"/>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
              <line x1="1" y1="12" x2="3" y2="12"/>
              <line x1="21" y1="12" x2="23" y2="12"/>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
            Appearance
          </button>
          <button class="settings-tab" data-tab="language" type="button">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <line x1="2" y1="12" x2="22" y2="12"/>
              <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
            </svg>
            Language
          </button>
          <button class="settings-tab" data-tab="notifications" type="button">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
            Notifications
          </button>
          <button class="settings-tab" data-tab="accessibility" type="button">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <circle cx="12" cy="10" r="3"/>
              <path d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"/>
            </svg>
            Accessibility
          </button>
        </div>

        <div class="settings-content">
          <!-- Appearance Tab -->
          <div class="settings-panel settings-panel--active" data-panel="appearance">
            <div class="settings-group">
              <h3 class="settings-group__title">Theme</h3>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="themeSelect">Color theme</label>
                  <p>Choose your preferred color scheme</p>
                </div>
                <select id="themeSelect" class="settings-select">
                  <option value="auto">Auto (System)</option>
                  <option value="light">Light</option>
                  <option value="dark">Dark</option>
                </select>
              </div>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="densitySelect">Layout density</label>
                  <p>Adjust spacing and component sizes</p>
                </div>
                <select id="densitySelect" class="settings-select">
                  <option value="comfortable">Comfortable</option>
                  <option value="compact">Compact</option>
                </select>
              </div>
            </div>

            <div class="settings-group">
              <h3 class="settings-group__title">Visual Effects</h3>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="animationsToggle">Animations</label>
                  <p>Enable smooth transitions and animations</p>
                </div>
                <div class="settings-toggle">
                  <input type="checkbox" id="animationsToggle" checked>
                  <label for="animationsToggle" class="toggle-slider"></label>
                </div>
              </div>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="particlesToggle">Background effects</label>
                  <p>Show animated background particles</p>
                </div>
                <div class="settings-toggle">
                  <input type="checkbox" id="particlesToggle" checked>
                  <label for="particlesToggle" class="toggle-slider"></label>
                </div>
              </div>
            </div>
          </div>

          <!-- Language Tab -->
          <div class="settings-panel" data-panel="language">
            <div class="settings-group">
              <h3 class="settings-group__title">Interface Language</h3>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="languageSelect">Display language</label>
                  <p>Change the language of the interface</p>
                </div>
                <select id="languageSelect" class="settings-select">
                  <option value="en">English</option>
                  <option value="fr">Français</option>
                  <option value="ar">العربية</option>
                  <option value="sw">Kiswahili</option>
                  <option value="ha">Hausa</option>
                  <option value="yo">Yoruba</option>
                  <option value="ig">Igbo</option>
                  <option value="zu">Zulu</option>
                  <option value="am">Amharic</option>
                </select>
              </div>
            </div>

            <div class="settings-group">
              <h3 class="settings-group__title">Regional Settings</h3>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="timezoneSelect">Timezone</label>
                  <p>Set your local timezone for dates and times</p>
                </div>
                <select id="timezoneSelect" class="settings-select">
                  <option value="auto">Auto-detect</option>
                  <option value="Africa/Lagos">West Africa Time (WAT)</option>
                  <option value="Africa/Cairo">Eastern European Time (EET)</option>
                  <option value="Africa/Johannesburg">South Africa Standard Time (SAST)</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Notifications Tab -->
          <div class="settings-panel" data-panel="notifications">
            <div class="settings-group">
              <h3 class="settings-group__title">Push Notifications</h3>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="pushNotifications">Enable push notifications</label>
                  <p>Receive notifications even when the app is closed</p>
                </div>
                <div class="settings-toggle">
                  <input type="checkbox" id="pushNotifications" checked>
                  <label for="pushNotifications" class="toggle-slider"></label>
                </div>
              </div>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="applicationUpdates">Application updates</label>
                  <p>Get notified about application status changes</p>
                </div>
                <div class="settings-toggle">
                  <input type="checkbox" id="applicationUpdates" checked>
                  <label for="applicationUpdates" class="toggle-slider"></label>
                </div>
              </div>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="messageNotifications">Messages</label>
                  <p>Notifications for new messages and replies</p>
                </div>
                <div class="settings-toggle">
                  <input type="checkbox" id="messageNotifications" checked>
                  <label for="messageNotifications" class="toggle-slider"></label>
                </div>
              </div>
            </div>

            <div class="settings-group">
              <h3 class="settings-group__title">Email Notifications</h3>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="emailDigest">Daily digest</label>
                  <p>Receive a daily summary of your activity</p>
                </div>
                <div class="settings-toggle">
                  <input type="checkbox" id="emailDigest">
                  <label for="emailDigest" class="toggle-slider"></label>
                </div>
              </div>
            </div>
          </div>

          <!-- Accessibility Tab -->
          <div class="settings-panel" data-panel="accessibility">
            <div class="settings-group">
              <h3 class="settings-group__title">Motion & Animation</h3>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="reducedMotion">Reduce motion</label>
                  <p>Minimize animations for better accessibility</p>
                </div>
                <div class="settings-toggle">
                  <input type="checkbox" id="reducedMotion">
                  <label for="reducedMotion" class="toggle-slider"></label>
                </div>
              </div>
            </div>

            <div class="settings-group">
              <h3 class="settings-group__title">Display</h3>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="highContrast">High contrast</label>
                  <p>Increase contrast for better readability</p>
                </div>
                <div class="settings-toggle">
                  <input type="checkbox" id="highContrast">
                  <label for="highContrast" class="toggle-slider"></label>
                </div>
              </div>
              <div class="settings-option">
                <div class="settings-option__info">
                  <label for="fontSizeSelect">Font size</label>
                  <p>Adjust text size for better readability</p>
                </div>
                <select id="fontSizeSelect" class="settings-select">
                  <option value="small">Small</option>
                  <option value="medium" selected>Medium</option>
                  <option value="large">Large</option>
                  <option value="extra-large">Extra Large</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="settings-modal__footer">
        <div class="settings-actions">
          <button id="resetSettings" class="btn btn--ghost" type="button">Reset to Defaults</button>
          <button id="saveSettings" class="btn btn--primary" type="button">Save Changes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Dashboard Settings Styles -->
  <style>
    .settings-fab {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 64px;
      height: 64px;
      border: none;
      border-radius: 50%;
      background: linear-gradient(135deg, #4338ca, #6366f1, #8b5cf6);
      color: white;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3), 0 0 20px rgba(99, 102, 241, 0.1);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      will-change: transform;
    }

    .settings-fab::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: conic-gradient(#4338ca, #6366f1, #8b5cf6, #4338ca);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
      animation: rotate 3s linear infinite;
    }

    .settings-fab:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 12px 40px rgba(99, 102, 241, 0.4), 0 0 30px rgba(99, 102, 241, 0.2);
    }

    .settings-fab:hover::before {
      opacity: 1;
    }

    .settings-fab:active {
      transform: scale(0.95);
    }

    .settings-fab svg {
      width: 28px;
      height: 28px;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
    }

    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Advanced Settings Modal */
    .settings-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .settings-modal[aria-hidden="false"] {
      opacity: 1;
      visibility: visible;
    }

    .settings-modal__backdrop {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
    }

    .settings-modal__container {
      position: relative;
      max-width: 800px;
      width: 90vw;
      max-height: 90vh;
      margin: 5vh auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      transform: scale(0.95);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .settings-modal[aria-hidden="false"] .settings-modal__container {
      transform: scale(1);
    }

    .settings-modal__header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 24px 32px;
      background: linear-gradient(135deg, #4338ca 0%, #8b5cf6 100%);
      color: white;
    }

    .settings-modal__title-group {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .settings-modal__title-group h2 {
      margin: 0;
      font-size: 20px;
      font-weight: 600;
    }

    .settings-modal__close {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      border-radius: 8px;
      padding: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .settings-modal__close:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .settings-modal__body {
      flex: 1;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .settings-tabs {
      display: flex;
      background: #f8fafc;
      border-bottom: 1px solid #e2e8f0;
      padding: 0 32px;
    }

    .settings-tab {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 16px 20px;
      background: none;
      border: none;
      color: #64748b;
      font-weight: 500;
      cursor: pointer;
      position: relative;
      transition: all 0.2s ease;
      border-radius: 0;
    }

    .settings-tab:hover {
      color: #475569;
      background: rgba(67, 56, 202, 0.05);
    }

    .settings-tab--active {
      color: #4338ca;
      font-weight: 600;
    }

    .settings-tab--active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #4338ca 0%, #8b5cf6 100%);
      border-radius: 2px 2px 0 0;
    }

    .settings-content {
      flex: 1;
      overflow-y: auto;
      padding: 32px;
    }

    .settings-panel {
      display: none;
    }

    .settings-panel--active {
      display: block;
    }

    .settings-group {
      margin-bottom: 32px;
    }

    .settings-group:last-child {
      margin-bottom: 0;
    }

    .settings-group__title {
      font-size: 18px;
      font-weight: 600;
      color: #1f2937;
      margin: 0 0 20px 0;
      padding-bottom: 8px;
      border-bottom: 2px solid #e5e7eb;
    }

    .settings-option {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      padding: 16px 0;
      border-bottom: 1px solid #f3f4f6;
    }

    .settings-option:last-child {
      border-bottom: none;
    }

    .settings-option__info {
      flex: 1;
      margin-right: 20px;
    }

    .settings-option__info label {
      display: block;
      font-weight: 500;
      color: #374151;
      margin: 0 0 4px 0;
    }

    .settings-option__info p {
      margin: 0;
      font-size: 14px;
      color: #6b7280;
      line-height: 1.4;
    }

    .settings-select {
      min-width: 160px;
      padding: 8px 12px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 14px;
      background: white;
      color: #374151;
      transition: all 0.2s ease;
    }

    .settings-select:focus {
      outline: none;
      border-color: #4338ca;
      box-shadow: 0 0 0 3px rgba(67, 56, 202, 0.1);
    }

    .settings-toggle {
      position: relative;
      width: 48px;
      height: 24px;
    }

    .settings-toggle input[type="checkbox"] {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #d1d5db;
      transition: 0.3s;
      border-radius: 24px;
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 20px;
      width: 20px;
      left: 2px;
      bottom: 2px;
      background-color: white;
      transition: 0.3s;
      border-radius: 50%;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    input:checked + .toggle-slider {
      background: linear-gradient(135deg, #4338ca, #8b5cf6);
    }

    input:checked + .toggle-slider:before {
      transform: translateX(24px);
    }

    .settings-modal__footer {
      padding: 24px 32px;
      background: #f8fafc;
      border-top: 1px solid #e2e8f0;
    }

    .settings-actions {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .settings-actions .btn {
      padding: 10px 20px;
      font-weight: 500;
      border-radius: 8px;
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .settings-actions .btn--primary {
      background: linear-gradient(135deg, #4338ca 0%, #8b5cf6 100%);
      color: white;
      border: none;
    }

    .settings-actions .btn--primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(67, 56, 202, 0.3);
    }

    .settings-actions .btn--ghost {
      background: transparent;
      color: #6b7280;
      border: 1px solid #d1d5db;
    }

    .settings-actions .btn--ghost:hover {
      background: #f9fafb;
      color: #374151;
      border-color: #9ca3af;
    }

    /* Advanced Interactive Padding for Finance Sections */
    .payment-row {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      padding: 2rem 2.5rem;
      border-radius: 16px;
      margin: 1rem 0;
      background: rgba(255, 255, 255, 0.6);
      border: 1px solid rgba(229, 231, 235, 0.8);
    }

    .payment-row:hover {
      padding: 2.5rem 3rem;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(139, 92, 246, 0.08));
      transform: translateY(-3px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
      border-left: 4px solid #3b82f6;
      border: 1px solid rgba(59, 130, 246, 0.2);
    }

    .payment-row:hover .payment-row__title {
      color: #3b82f6;
      text-shadow: 0 1px 2px rgba(59, 130, 246, 0.1);
    }

    .payment-row:hover .btn {
      transform: scale(1.02);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
    }

    .payment-methods {
      transition: all 0.3s ease;
      padding: 2rem 2.5rem;
      border-radius: 12px;
      background: rgba(249, 250, 251, 0.8);
      margin: 1.5rem 0;
    }

    .payment-methods:hover {
      padding: 2.5rem 3rem;
      background: linear-gradient(135deg, rgba(34, 197, 94, 0.08), rgba(59, 130, 246, 0.08));
      transform: translateY(-2px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      border-left: 4px solid #22c55e;
    }

    .payment-methods:hover .payment-methods__title {
      color: #22c55e;
    }

    /* Transactions table enhanced padding */
    .transactions {
      transition: all 0.3s ease;
      padding: 2rem 2.5rem;
      border-radius: 16px;
      background: rgba(255, 255, 255, 0.5);
    }

    .transactions:hover {
      padding: 2.5rem 3rem;
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.08), rgba(139, 92, 246, 0.08));
      transform: translateY(-2px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
      border-left: 4px solid #6366f1;
    }

    .transactions:hover .table th {
      color: #6366f1;
      background: rgba(99, 102, 241, 0.1);
    }

    /* Mobile Money CTA enhanced padding */
    .mobile-money-cta {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      padding: 2.5rem 3rem;
      border-radius: 20px;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(34, 197, 94, 0.1));
    }

    .mobile-money-cta:hover {
      padding: 3rem 3.5rem;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(34, 197, 94, 0.15));
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 16px 48px rgba(16, 185, 129, 0.2);
      border-left: 6px solid #10b981;
    }

    .mobile-money-cta:hover .btn {
      transform: scale(1.05);
      box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
      background: linear-gradient(135deg, #10b981, #22c55e);
    }

    .mobile-money-cta:hover .mobile-money-logos {
      transform: scale(1.05);
    }

    .mobile-money-logo {
      transition: all 0.3s ease;
      display: inline-block;
      padding: 0.75rem 1.25rem;
      margin: 0 0.5rem;
      background: rgba(16, 185, 129, 0.2);
      border-radius: 8px;
      font-weight: 600;
      color: #047857;
    }

    .mobile-money-cta:hover .mobile-money-logo {
      background: rgba(16, 185, 129, 0.3);
      color: #065f46;
      transform: translateY(-2px);
    }

    /* Dashboard card enhanced padding */
    .dashboard-card {
      transition: all 0.3s ease;
      border-radius: 20px;
      overflow: hidden;
    }

    .dashboard-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 16px 48px rgba(0, 0, 0, 0.15);
    }

    .dashboard-card--featured:hover {
      border-left: 6px solid #f59e0b;
      background: linear-gradient(135deg, rgba(245, 158, 11, 0.05), rgba(251, 191, 36, 0.05));
    }

    .dashboard-card--highlight:hover {
      border-left: 6px solid #10b981;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(34, 197, 94, 0.05));
    }

    @media (max-width: 768px) {
      .settings-modal__container {
        width: 95vw;
        margin: 2.5vh auto;
        max-height: 95vh;
      }

      .settings-modal__header,
      .settings-content,
      .settings-modal__footer {
        padding-left: 20px;
        padding-right: 20px;
      }

      .settings-tabs {
        padding: 0 20px;
        overflow-x: auto;
      }

      .settings-option {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
      }

      .settings-option__info {
        margin-right: 0;
      }

      /* Mobile responsive padding adjustments */
      .payment-row,
      .payment-methods,
      .transactions {
        padding: 1.5rem 2rem;
      }

      .payment-row:hover,
      .payment-methods:hover,
      .transactions:hover {
        padding: 2rem 2.5rem;
      }

      .mobile-money-cta {
        padding: 2rem 2.5rem;
      }

      .mobile-money-cta:hover {
        padding: 2.5rem 3rem;
        transform: translateY(-2px) scale(1.01);
      }
    }
  </style>

  <!-- JS -->
  <script src="/assets/js/firebase-config.js"></script>
  <script src="/assets/js/firebase-auth.js" defer></script>
  <script src="/assets/js/auth-guards.js" defer></script>
  <script src="/assets/js/i18n.js" defer></script>
  <script src="/assets/js/main.js" defer></script>
  <script src="/assets/js/students_finance.js" defer></script>
  
  <script>
    // Advanced Settings System
    document.addEventListener('DOMContentLoaded', function() {
      const settingsSystem = {
        modal: null,
        isOpen: false,
        activeTab: 'appearance',
        
        settings: {
          theme: 'auto',
          density: 'comfortable',
          animations: true,
          particles: true,
          language: 'en',
          timezone: 'auto',
          pushNotifications: true,
          applicationUpdates: true,
          messageNotifications: true,
          emailDigest: false,
          reducedMotion: false,
          highContrast: false,
          fontSize: 'medium'
        },
        
        init() {
          this.modal = document.getElementById('settingsModal');
          this.setupEventListeners();
          this.loadSettings();
          this.applySettings();
        },
        
        setupEventListeners() {
          const toggleBtn = document.getElementById('settingsToggle');
          if (toggleBtn) {
            toggleBtn.addEventListener('click', (e) => {
              e.preventDefault();
              this.openModal();
            });
          }
          
          const closeBtn = document.getElementById('settingsClose');
          if (closeBtn) {
            closeBtn.addEventListener('click', (e) => {
              e.preventDefault();
              this.closeModal();
            });
          }
          
          if (this.modal) {
            const backdrop = this.modal.querySelector('.settings-modal__backdrop');
            if (backdrop) {
              backdrop.addEventListener('click', () => {
                this.closeModal();
              });
            }
          }
          
          document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && this.isOpen) {
              this.closeModal();
            }
          });
          
          const tabs = document.querySelectorAll('.settings-tab');
          tabs.forEach(tab => {
            tab.addEventListener('click', (e) => {
              e.preventDefault();
              const tabName = tab.dataset.tab;
              this.switchTab(tabName);
            });
          });
          
          this.setupSettingsControls();
          
          const saveBtn = document.getElementById('saveSettings');
          const resetBtn = document.getElementById('resetSettings');
          
          if (saveBtn) {
            saveBtn.addEventListener('click', (e) => {
              e.preventDefault();
              this.saveSettings();
            });
          }
          
          if (resetBtn) {
            resetBtn.addEventListener('click', (e) => {
              e.preventDefault();
              this.resetSettings();
            });
          }
        },
        
        setupSettingsControls() {
          const themeSelect = document.getElementById('themeSelect');
          if (themeSelect) {
            themeSelect.addEventListener('change', (e) => {
              this.settings.theme = e.target.value;
              this.applyTheme();
            });
          }
          
          const densitySelect = document.getElementById('densitySelect');
          if (densitySelect) {
            densitySelect.addEventListener('change', (e) => {
              this.settings.density = e.target.value;
              this.applyDensity();
            });
          }
          
          const languageSelect = document.getElementById('languageSelect');
          if (languageSelect) {
            languageSelect.addEventListener('change', (e) => {
              this.settings.language = e.target.value;
            });
          }
          
          const toggles = ['animationsToggle', 'particlesToggle', 'pushNotifications', 'applicationUpdates', 'messageNotifications', 'emailDigest', 'reducedMotion', 'highContrast'];
          toggles.forEach(toggleId => {
            const toggle = document.getElementById(toggleId);
            if (toggle) {
              toggle.addEventListener('change', (e) => {
                const settingKey = toggleId.replace('Toggle', '');
                this.settings[settingKey] = e.target.checked;
                this.applyToggleSetting(settingKey);
              });
            }
          });
        },
        
        openModal() {
          if (this.modal) {
            this.modal.setAttribute('aria-hidden', 'false');
            this.isOpen = true;
            document.body.style.overflow = 'hidden';
            
            const firstFocusable = this.modal.querySelector('button, input, select');
            if (firstFocusable) {
              setTimeout(() => firstFocusable.focus(), 100);
            }
          }
        },
        
        closeModal() {
          if (this.modal) {
            this.modal.setAttribute('aria-hidden', 'true');
            this.isOpen = false;
            document.body.style.overflow = '';
          }
        },
        
        switchTab(tabName) {
          this.activeTab = tabName;
          
          const tabs = document.querySelectorAll('.settings-tab');
          const panels = document.querySelectorAll('.settings-panel');
          
          tabs.forEach(tab => {
            tab.classList.remove('settings-tab--active');
          });
          panels.forEach(panel => {
            panel.classList.remove('settings-panel--active');
          });
          
          const activeTab = document.querySelector(`[data-tab="${tabName}"]`);
          const activePanel = document.querySelector(`[data-panel="${tabName}"]`);
          
          if (activeTab) activeTab.classList.add('settings-tab--active');
          if (activePanel) activePanel.classList.add('settings-panel--active');
        },
        
        loadSettings() {
          try {
            const saved = localStorage.getItem('flowSettings');
            if (saved) {
              this.settings = { ...this.settings, ...JSON.parse(saved) };
            }
          } catch (e) {
            console.log('Settings load error:', e);
          }
          this.updateUI();
        },
        
        saveSettings() {
          try {
            localStorage.setItem('flowSettings', JSON.stringify(this.settings));
            this.showToast('Settings saved successfully!', 'success');
            this.closeModal();
          } catch (e) {
            this.showToast('Failed to save settings', 'error');
          }
        },
        
        resetSettings() {
          if (confirm('Are you sure you want to reset all settings to default?')) {
            this.settings = {
              theme: 'auto',
              density: 'comfortable',
              animations: true,
              particles: true,
              language: 'en',
              timezone: 'auto',
              pushNotifications: true,
              applicationUpdates: true,
              messageNotifications: true,
              emailDigest: false,
              reducedMotion: false,
              highContrast: false,
              fontSize: 'medium'
            };
            this.updateUI();
            this.applySettings();
            this.showToast('Settings reset to defaults', 'info');
          }
        },
        
        updateUI() {
          Object.keys(this.settings).forEach(key => {
            const element = document.getElementById(`${key}Select`) || document.getElementById(`${key}Toggle`);
            if (element) {
              if (element.type === 'checkbox') {
                element.checked = this.settings[key];
              } else {
                element.value = this.settings[key];
              }
            }
          });
        },
        
        applySettings() {
          this.applyTheme();
          this.applyDensity();
          Object.keys(this.settings).forEach(key => {
            if (typeof this.settings[key] === 'boolean') {
              this.applyToggleSetting(key);
            }
          });
        },
        
        applyTheme() {
          const theme = this.settings.theme;
          document.documentElement.setAttribute('data-theme', theme);
        },
        
        applyDensity() {
          const density = this.settings.density;
          document.documentElement.setAttribute('data-density', density);
        },
        
        applyToggleSetting(key) {
          const value = this.settings[key];
          document.documentElement.setAttribute(`data-${key.toLowerCase()}`, value);
        },
        
        showToast(message, type = 'info') {
          console.log(`[${type.toUpperCase()}] ${message}`);
        }
      };
      
      settingsSystem.init();
    });
  </script>
</body>
</html>
